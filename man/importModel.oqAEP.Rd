% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/importModel.oqAEP.R
\name{importModel.oqAEP}
\alias{importModel.oqAEP}
\title{Import AEP (Hazard Curves) from OpenQuake (Fixed)}
\usage{
importModel.oqAEP(path, vref)
}
\arguments{
\item{path}{Character. Folder with hazard_curve*, quantile_curve* CSV/zip.}

\item{vref}{Numeric. Vs30 reference if needed (unused in meltdown).}
}
\value{
A data.table with columns:
\itemize{
\item \strong{lon, lat, depth} (if depth col is in CSV)
\item \strong{Tn} (0 for PGA, -1 for PGV, numeric if SA(...))
\item \strong{p} (quantile or mean from the header)
\item \strong{Sa} (spectral acceleration from \code{poe-xxx})
\item \strong{POE} (probability of exceedance, numeric)
\item \strong{AEP} (=-log(1-POE)/ITo), \strong{TR} (=-ITo/log(1-POE))
\item \strong{ITo} (investigation_time)
}
}
\description{
Reads hazard-curve or quantile-curve CSVs from \code{path} (or .zip) using a
minimal meltdown approach. For each file:
\enumerate{
\item Parses the first line for \code{p} (quantile or mean) and
\code{ITo} (investigation_time). Possibly \code{Tn} from
\code{imt='...'}. If multiple Tn, each file has its own Tn.
\item Skips that line, reads data with \code{header=FALSE} so the second
line is columns.
\item Identifies columns matching \code{poe-xxx}, melts them to long
format => \code{POE} (must be converted to numeric).
\item Filters out \code{POE>=1}, if any.
\item If \code{ITo>0}, computes \code{AEP=-log(1-POE)/ITo} and
\code{TR=-ITo/log(1-POE)}.
\item Stores \code{(lon, lat, depth, Tn, p, Sa, POE, AEP, TR, ITo)}.
}
}
